JW_APP_NAME.directive("websocketjw",["$rootScope","$interval","$timeout",function($rootScope,$interval,$timeout){return{link:function($scope,element,attrs){if(element[0].hasAttribute("websocketdata")){var newData=JSON.parse(element[0].getAttribute("websocketdata"));newData.websocketGroup=element[0].getAttribute("websocketgroup");newData.headers=jw.headers}jw.websocket.newMessage("AddToWebSocketGroup",{websocketGroup:element[0].getAttribute("websocketgroup"),sessionid:jw.sessionstorage["sessionid"],jwamsmk:jw.localstorage["jwamsmk"],headers:jw.headers,data:newData});element.on("$destroy",function(){try{if(element[0].hasAttribute("websocketdata")){var newData=JSON.parse(element[0].getAttribute("websocketdata"));newData.websocketGroup=element[0].getAttribute("websocketgroup");newData.headers=jw.headers}jw.websocket.newMessage("RemoveFromWebSocketGroup",{websocketGroup:element[0].getAttribute("websocketgroup"),sessionid:jw.sessionstorage["sessionid"],jwamsmk:jw.localstorage["jwamsmk"],headers:jw.headers,data:newData})}catch(e){}})}}}]);